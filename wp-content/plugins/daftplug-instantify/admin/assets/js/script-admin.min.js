jQuery((function(){"use strict";var daftplugAdmin=jQuery('.daftplugAdmin[data-daftplug-plugin="daftplug_instantify"]'),optionName=daftplugAdmin.attr("data-daftplug-plugin"),objectName=window[optionName+"_admin_js_vars"];function navigateTo(pageId,subPageId=""){var page=daftplugAdmin.find(".daftplugAdminPage.-"+pageId),menuItem=daftplugAdmin.find(".daftplugAdminMenu_item.-"+pageId),subPage=page.find(".daftplugAdminPage_subpage.-"+subPageId),subMenuItem=page.find(".daftplugAdminSubmenu_item.-"+subPageId),hasSubPages=page.find(".daftplugAdminPage_subpage").length,firstSubPage=page.find(".daftplugAdminPage_subpage").first(),firstSubPageId=firstSubPage.attr("data-subpage"),firstSubMenuItem=page.find(".daftplugAdminSubmenu_item").first(),errorPage=daftplugAdmin.find(".daftplugAdminPage.-error");page.length?(daftplugAdmin.find(".daftplugAdminPage").removeClass("-active"),page.addClass("-active"),daftplugAdmin.find(".daftplugAdminMenu_item").removeClass("-active"),menuItem.addClass("-active"),hasSubPages?""!=subPageId?subPage.length?(daftplugAdmin.find(".daftplugAdminPage_subpage").removeClass("-active"),subPage.addClass("-active"),daftplugAdmin.find(".daftplugAdminSubmenu_item").removeClass("-active"),subMenuItem.addClass("-active")):(page.removeClass("-active"),menuItem.removeClass("-active"),errorPage.addClass("-active")):(firstSubPage.addClass("-active"),firstSubMenuItem.addClass("-active"),location.hash="#/"+pageId+"-"+firstSubPageId+"/"):location.hash="#/"+pageId+"/"):(daftplugAdmin.find(".daftplugAdminPage").removeClass("-active"),errorPage.addClass("-active"))}function startIntro(){introJs().setOptions({dontShowAgain:!1,showBullets:!1,showProgress:!0,hidePrev:!0,nextToDone:!0,exitOnEsc:!0,exitOnOverlayClick:!1,showStepNumbers:!1,keyboardNavigation:!0,scrollToElement:!0,disableInteraction:!0,steps:[{title:"Hello ðŸ‘‹!",element:document.querySelector(".daftplugAdminHeader_logo"),intro:"Let me guide you through Instantify really quick.",position:"right"},{title:"Navigation",element:document.querySelector(".daftplugAdminMenu_list"),intro:"This is the main navigation menu. You can use it to navigate through the different pages.",position:"right",onChange:function(){navigateTo("overview")}},{title:"Search",element:document.querySelector(".daftplugAdminHeader_search"),intro:"You can also use the search button to search for specific settings.",position:"left"},{title:"Global Features",element:document.querySelector(".daftplugAdminPage.-overview > div:nth-child(3) > div"),intro:"You can enable or disable plugin global features from here.",position:"right"},{title:"License",element:document.querySelector(".daftplugAdminPage.-overview > div:nth-child(4) > div"),intro:"On this section you can deactivate your license by clicking and holding the button if you'll need to use Instantify on another website with your current license code.",position:"left"},{title:"Android & iOS Apps",element:document.querySelector(".daftplugAdminGetAppNotice"),intro:"From here you can get ready-made Android and iOS apps for your website to publish your PWA website to the Google Play and Apple App Stores as native apps.",position:"left",onChange:function(){navigateTo("overview")}},{title:"PWA Features",element:document.querySelector(".daftplugAdminPage.-pwa .daftplugAdminSubmenu_list"),intro:"Use this menu to navigate through the different PWA features and customize them.",position:"bottom",onChange:function(){navigateTo("pwa")}},{title:"AMP Features",element:document.querySelector(".daftplugAdminPage.-amp .daftplugAdminSubmenu_list"),intro:"Use this menu to navigate through the different AMP features and customize them.",position:"bottom",onChange:function(){navigateTo("amp")}},{title:"FBIA Features",element:document.querySelector(".daftplugAdminPage.-fbia .daftplugAdminSubmenu_list"),intro:"Use this menu to navigate through the different FBIA features and customize them.",position:"bottom",onChange:function(){navigateTo("fbia")}},{title:"Save Settings",element:document.querySelector(".daftplugAdminPage.-fbia .daftplugAdminSettings_submit"),intro:"After changing the settings you can save them by clicking this button.",position:"left",onChange:function(){navigateTo("fbia")}},{title:"FAQ",element:document.querySelector(".daftplugAdminPage.-support > div:nth-child(2) > div"),intro:"Reading the FAQ is useful when you're experiencing a common issue related to the plugin.",position:"right",onChange:function(){navigateTo("support")}},{title:"Support Ticket",element:document.querySelector(".daftplugAdminPage.-support > div:nth-child(3) > div"),intro:"If the FAQ didn't help and you have a hard time resolving the problem, please submit a ticket.",position:"left"},{title:"Explore PWA",element:document.querySelector(".daftplugAdminPage.-support > div:nth-child(5) > div"),intro:"PWAs are exciting things and truly the future of the mobile web. You can learn more about them by reading articles here.",position:"right"},{title:"Changelog",element:document.querySelector(".daftplugAdminPage.-support > div:nth-child(6) > div"),intro:"Lastly, here is the changelog so you can see what has added, improved and fixed in the plugin on each update. Thank you and enjoy the plugin âš¡!"}]}).onchange((function(){this._introItems[this._currentStep].onChange&&this._introItems[this._currentStep].onChange()})).oncomplete((function(){localStorage.setItem("introShown",!0)})).onexit((function(){localStorage.setItem("introShown",!0)})).start()}function setCookie(name,value,days){var expires="";if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toUTCString()}document.cookie=name+"="+(value||"")+expires+"; path=/"}function getCookie(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null}function removeCookie(name){setCookie(name,"",-1)}daftplugAdmin.find(".daftplugAdminLoader").each((function(e){var self=jQuery(this),size=self.attr("data-size"),duration=self.attr("data-duration");self.html('\n            <div class="daftplugAdminLoader_box">\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n            </div>\n            <div class="daftplugAdminLoader_box">\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n            </div>\n            <div class="daftplugAdminLoader_box">\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n            </div>\n            <div class="daftplugAdminLoader_box">\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n            </div>\n        ').attr("style",`--size:${size};--duration:${duration}`)})),jQuery(window).on("load hashchange",(function(e){if(daftplugAdmin.find(".daftplugAdminLoader").fadeOut("fast"),daftplugAdmin.find(".daftplugAdminHeader").add(".daftplugAdminMain").add(".daftplugAdminFooter").removeClass("-disabled"),daftplugAdmin.find(".daftplugAdminPage.-activation").length)location.hash="#/activation/",daftplugAdmin.find(".daftplugAdminPage.-activation").addClass("-active"),daftplugAdmin.find(".daftplugAdminHeader").css("justify-content","center"),daftplugAdmin.find(".daftplugAdminHeader_versionText, .daftplugAdminHeader_search, .daftplugAdminButton.-getAppHeader").hide();else{if(location.hash){var hash=location.hash.replace(/#|\//g,"").split("-"),pageId,subPageId;navigateTo(hash[0],hash[1])}else location.hash="#/overview/",daftplugAdmin.find(".daftplugAdminPage.-overview").addClass("-active"),daftplugAdmin.find(".daftplugAdminMenu_item.-overview").addClass("-active");localStorage.getItem("introShown")||startIntro()}})),daftplugAdmin.find(".daftplugAdminFaq_item").each((function(e){var self=jQuery(this),question;self.find(".daftplugAdminFaq_question").on("click",(function(e){self.hasClass("-active")?self.removeClass("-active"):(daftplugAdmin.find(".daftplugAdminFaq_item").removeClass("-active"),self.addClass("-active"))}))})),daftplugAdmin.find(".daftplugAdminButton.-submit").each((function(e){var self=jQuery(this),submitText=self.attr("data-submit"),waitingText=self.attr("data-waiting"),submittedText=self.attr("data-submitted"),failedText=self.attr("data-failed");self.html(`<span class="daftplugAdminButton_iconset">\n                       <svg class="daftplugAdminButton_icon -iconSubmit">\n                           <use href="#iconSubmit"></use>\n                       </svg>\n                       <svg class="daftplugAdminButton_icon -iconLoading">\n                           <use href="#iconLoading"></use>\n                       </svg>\n                       <svg class="daftplugAdminButton_icon -iconSuccess">\n                           <use href="#iconSuccess"></use>\n                       </svg>\n                       <svg class="daftplugAdminButton_icon -iconFail">\n                           <use href="#iconFail"></use>\n                       </svg>\n                   </span>\n                   <ul class="daftplugAdminButton_textset">\n                       <li class="daftplugAdminButton_text -submit">\n                           ${submitText}\n                       </li>\n                       <li class="daftplugAdminButton_text -waiting">\n                           ${waitingText}\n                       </li>\n                       <li class="daftplugAdminButton_text -submitted">\n                           ${submittedText}\n                       </li>\n                       <li class="daftplugAdminButton_text -submitFailed">\n                           ${failedText}\n                       </li>\n                   </ul>`);var buttonTexts=self.find(".daftplugAdminButton_textset"),buttonText=buttonTexts.find(".daftplugAdminButton_text"),longestButtonTextChars="";if(buttonText.each((function(e){var self,buttonTextChars=jQuery(this).text();buttonTextChars.length>longestButtonTextChars.length&&(longestButtonTextChars=buttonTextChars)})),buttonTexts.css("width",7.5*longestButtonTextChars.trim().length+"px"),self.hasClass("-confirm")){var sureText=self.attr("data-sure"),confirmDuration=self.attr("data-duration"),clickDuration=0;self.attr("style",`--confirmDuration:${confirmDuration};`),self.on("mousedown touchstart",(function(e){e.preventDefault(),buttonText.filter(".-waiting").text(sureText),self.addClass("-loading -progress"),clickDuration=setTimeout((function(e){buttonText.filter(".-waiting").text(waitingText),self.removeClass("-loading -progress").trigger("submit")}),parseInt(confirmDuration))})).on("mouseup touchend",(function(e){self.removeClass("-loading -progress"),clearTimeout(clickDuration)}))}})),daftplugAdmin.find(".daftplugAdminButton.-addField").each((function(e){var self=jQuery(this),addTarget=self.attr("data-add"),miniFieldset=daftplugAdmin.find('.-miniFieldset[class*="-'+addTarget+'"]'),i=0;miniFieldset.prepend('\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="daftplugAdminMiniFieldset_close -iconClose">\n                <g stroke-linecap="round" stroke-linejoin="round">\n                    <circle cx="10" cy="10" r="10" id="circle"></circle>\n                    <path d="M7,7 L13,13" id="line"></path>\n                    <path d="M7,13 L13,7" id="line"></path>\n                </g>\n            </svg>\n        ').each((function(e){var self=jQuery(this),miniFieldsetCheckboxField;self.find(".daftplugAdminInputCheckbox_field").trigger("change"),self.find(".daftplugAdminInputCheckbox.-hidden").find(".daftplugAdminInputCheckbox_field").is(":checked")?(self.show().prop("disabled",!1),i++):self.hide().prop("disabled",!0)}));var close=miniFieldset.find(".daftplugAdminMiniFieldset_close");self.on("click",(function(e){i++,miniFieldset.filter('.-miniFieldset[class*="-'+addTarget+i+'"]').show().prop("disabled",!1),miniFieldset.find('.daftplugAdminInputCheckbox_field[id="'+addTarget+i+'"]').prop("checked",!0).trigger("change"),miniFieldset.find(".daftplugAdminInputCheckbox_field").trigger("change"),miniFieldset.filter('.-miniFieldset[class*="-'+addTarget+(i+1)+'"]').length||self.hide()})),close.on("click",(function(e){self.show(),miniFieldset.filter('.-miniFieldset[class*="-'+addTarget+i+'"]').hide().prop("disabled",!0),miniFieldset.find('.daftplugAdminInputCheckbox_field[id="'+addTarget+i+'"]').prop("checked",!1).trigger("change"),0!=i&&i--}))})),daftplugAdmin.on("mouseenter mouseleave","[data-tooltip]",(function(e){var self=jQuery(this),tooltip=self.attr("data-tooltip"),flow=self.attr("data-tooltip-flow");if("mouseenter"===e.type){self.append(`<span class="daftplugAdminTooltip">${tooltip}</span>`);var tooltipEl=self.find(".daftplugAdminTooltip");switch(flow){case"top":tooltipEl.css({bottom:"calc(100% + 5px)",left:"50%","-webkit-transform":"translate(-50%, -.5em)",transform:"translate(-50%, -.5em)"});break;case"right":tooltipEl.css({top:"50%",left:"calc(100% + 5px)","-webkit-transform":"translate(.5em, -50%)",transform:"translate(.5em, -50%)"});break;case"bottom":tooltipEl.css({top:"calc(100% + 5px)",left:"50%","-webkit-transform":"translate(-50%, .5em)",transform:"translate(-50%, .5em)"});break;case"left":tooltipEl.css({top:"50%",right:"calc(100% + 5px)","-webkit-transform":"translate(-.5em, -50%)",transform:"translate(-.5em, -50%)"})}}"mouseleave"===e.type&&self.find(".daftplugAdminTooltip").remove()})),daftplugAdmin.find(".daftplugAdminFieldset[data-feature-type]").each((function(e){var self=jQuery(this),featureType=self.attr("data-feature-type"),title=self.find(".daftplugAdminFieldset_title");switch(featureType){case"new":title.append(`<span class="daftplugAdminFeaturePill" style="background-color: #ff3a3a;">${featureType}</span>`);break;case"beta":title.append(`<span class="daftplugAdminFeaturePill" style="background-color: #ffb13e;">${featureType}</span>`);break;default:title.append(`<span class="daftplugAdminFeaturePill" style="background-color: #444f5b;">${featureType}</span>`)}})),daftplugAdmin.find(".daftplugAdminSupportArticles_list").each((function(e){var self=jQuery(this),title=self.attr("data-title"),item=self.find(".daftplugAdminSupportArticles_item");self.before(`<h5 class="daftplugAdminSupportArticles_subtitle">${title}</h5>`).not(":last-child").after("<br>"),item.each((function(e){var self=jQuery(this),link=self.attr("data-link"),text=self.attr("data-text");self.prepend(`\n                <a class="daftplugAdminLink" target="_blank" href="${link}" style="font-size:15px; margin-bottom:7px;">${text}</a>\n            `)}))})),daftplugAdmin.find(".daftplugAdminChangelog_list").each((function(e){var self=jQuery(this),title=self.attr("data-title"),item=self.find(".daftplugAdminChangelog_item");self.before(`<h5 class="daftplugAdminChangelog_date">${title}</h5>`).not(":last-child").after("<br>"),item.each((function(e){var self=jQuery(this),type=self.attr("data-type"),text=self.attr("data-text");switch(type){case"added":self.prepend(`\n                        <span class="daftplugAdminFeaturePill" style="background-color: #4ad504; margin: 0;">${type}</span>\n                        <p class="daftplugAdminChangelog_text"> - ${text}</p>\n                    `);break;case"improved":self.prepend(`<span class="daftplugAdminFeaturePill" style="background-color: #4073ff; margin: 0;">${type}</span>\n                        <p class="daftplugAdminChangelog_text"> - ${text}</p>\n                    `);break;case"fixed":self.prepend(`<span class="daftplugAdminFeaturePill" style="background-color: #ffb13e; margin: 0;">${type}</span>\n                        <p class="daftplugAdminChangelog_text"> - ${text}</p>\n                    `);break;case"removed":self.prepend(`<span class="daftplugAdminFeaturePill" style="background-color: #ff3a3a; margin: 0;">${type}</span>\n                        <p class="daftplugAdminChangelog_text"> - ${text}</p>\n                    `);break;default:self.prepend(`<span class="daftplugAdminFeaturePill" style="background-color: #444f5b; margin: 0;">${type}</span>\n                        <p class="daftplugAdminChangelog_text"> - ${text}</p>\n                    `)}}))})),daftplugAdmin.find(".daftplugAdminPopup").each((function(e){var self=jQuery(this),openPopup=self.attr("data-popup"),popupContainer=self.find(".daftplugAdminPopup_container");daftplugAdmin.on("click",'[data-open-popup="'+openPopup+'"]',(function(e){self.addClass("-active")})),popupContainer.on("click",(function(e){e.stopPropagation()})).find("fieldset").not(".-miniFieldset").css("border","none"),self.on("click",(function(e){self.removeClass("-active")}))})),daftplugAdmin.find(".daftplugAdminInputText, .daftplugAdminInputNumber, .daftplugAdminInputTextarea, .daftplugAdminInputColor").each((function(e){var self,field=jQuery(this).find(".daftplugAdminInputText_field, .daftplugAdminInputNumber_field, .daftplugAdminInputTextarea_field, .daftplugAdminInputColor_field");field.on("change input keyup paste",(function(){field.val().length?field.addClass("-hasValue"):field.removeClass("-hasValue")})).trigger("change")})),daftplugAdmin.find(".daftplugAdminInputText").each((function(e){var self=jQuery(this),field=self.find(".daftplugAdminInputText_field"),placeholder=field.attr("data-placeholder");field.after('<span class="daftplugAdminInputText_placeholder">'+placeholder+"</span>"),field.on("invalid",(function(e){self.addClass("-invalid"),setTimeout((function(e){self.removeClass("-invalid")}),2300)}))})),daftplugAdmin.find(".daftplugAdminInputTextarea").each((function(e){var self=jQuery(this),field=self.find(".daftplugAdminInputTextarea_field"),placeholder=field.attr("data-placeholder");if("true"==field.attr("data-attachments")&&(field.css("padding-bottom","52.5px"),field.after('\n                <label for="attachments" class="daftplugAdminInputTextarea_icon" data-tooltip="Attach a photo (5 max)" data-tooltip-flow="left">\n                    <svg>\n                        <use href="#iconAttachment"></use>\n                    </svg>\n                    <input id="attachments" type="file" accept="image/*" style="display: none;"/>\n                </label>\n                <div class="daftplugAdminInputTextarea_attachments"></div>\n            '),window.File&&window.FileList&&window.FileReader)){var attachmentCount=0,attachmentsContainer=self.find(".daftplugAdminInputTextarea_attachments");self.on("change","#attachments",(function(e){var fileInput=document.getElementById("attachments"),reader=new FileReader;reader.fileName=fileInput.files[0].name.length>7?fileInput.files[0].name.substring(0,7)+"...":fileInput.files[0].name,reader.onload=function(readerEvent){attachmentCount>4?alert("You can only upload a maximum of 5 files."):fileInput.files[0].type.match(/image.*/)?(attachmentCount++,attachmentsContainer.append(`\n                                <span class="attachment${attachmentCount}">\n                                    <input name="attachment${attachmentCount}" id="attachment${attachmentCount}" type="hidden" value="${readerEvent.target.result}"/>\n                                    <img class="daftplugAdminInputTextarea_img" src="${readerEvent.target.result}"/>\n                                    ${readerEvent.target.fileName}\n                                    <svg class="daftplugAdminInputTextarea_xicon"><use href="#iconX"></use></svg>\n                                </span>\n                            `)):alert("You can attach only images.")},reader.readAsDataURL(fileInput.files[0])})),self.on("click",".daftplugAdminInputTextarea_xicon",(function(e){var self;jQuery(this).parent().remove(),attachmentCount--;for(var i=0;i<attachmentCount;i++)attachmentsContainer.children("span").eq(i).attr("class","attachment"+(i+1)).find("input").attr("name","attachment"+(i+1)).attr("id","attachment"+(i+1))}))}field.after('<span class="daftplugAdminInputTextarea_placeholder">'+placeholder+"</span>"),field.css("height",field.prop("scrollHeight")+"px").on("input",(function(e){this.style.height="auto",this.style.height=this.scrollHeight+1+"px"})),field.on("invalid",(function(e){self.addClass("-invalid"),setTimeout((function(e){self.removeClass("-invalid")}),2300)}))})),daftplugAdmin.find(".daftplugAdminInputCheckbox").each((function(e){var self=jQuery(this),field=self.find(".daftplugAdminInputCheckbox_field"),dependentDisableD=daftplugAdmin.find(".-"+field.attr("id")+"DependentDisableD"),dependentHideD=daftplugAdmin.find(".-"+field.attr("id")+"DependentHideD"),dependentDisableE=daftplugAdmin.find(".-"+field.attr("id")+"DependentDisableE"),dependentHideE=daftplugAdmin.find(".-"+field.attr("id")+"DependentHideE"),dependentDisableDField=dependentDisableD.find('[class*="_field"]'),dependentDisableEField=dependentDisableE.find('[class*="_field"]'),dependentHideDField=dependentHideD.find('[class*="_field"]'),dependentHideEField=dependentHideE.find('[class*="_field"]');if(dependentDisableDField.add(dependentDisableEField).add(dependentHideDField).add(dependentHideEField).each((function(e){jQuery(this).is("[required]")&&jQuery(this).attr("data-required","true")})),self.hasClass("-imgcustom")){var title=self.attr("data-title"),img=self.attr("data-img"),edit=self.attr("data-edit"),name=field.attr("name");if("disabled"==edit){edit="Edit";var disabledAttrs='style="opacity: 0.6;" data-tooltip="Not Editable" data-tooltip-flow="top"'}self.append(`\n                <div class="daftplugAdminInputCheckbox_custom">\n                    <svg class="daftplugAdminInputCheckbox_icon -iconCheck"><use href="#iconCheck"></use></svg>\n                    <img class="daftplugAdminInputCheckbox_img" src="${img}" />\n                    <span class="daftplugAdminInputCheckbox_text">${title}</span>\n                    <span class="daftplugAdminInputCheckbox_edit" ${disabledAttrs} onclick="return false;" data-open-popup="${name}">${edit}</span>\n                </div>\n            `)}else field.after('<span class="daftplugAdminInputCheckbox_background"></span>\n                         <span class="daftplugAdminInputCheckbox_grabholder"></span>');field.on("change",(function(e){field.is(":checked")?(dependentDisableD.removeClass("-disabled"),dependentDisableE.addClass("-disabled"),dependentHideD.show(),dependentHideE.hide(),dependentDisableEField.add(dependentHideEField).prop("required",!1),dependentDisableDField.add(dependentHideDField).each((function(e){"true"==jQuery(this).attr("data-required")?jQuery(this).prop("required",!0):jQuery(this).prop("required",!1)}))):(dependentDisableD.addClass("-disabled"),dependentDisableE.removeClass("-disabled"),dependentHideD.hide(),dependentHideE.show(),dependentDisableDField.add(dependentHideDField).prop("required",!1),dependentDisableEField.add(dependentHideEField).each((function(e){"true"==jQuery(this).attr("data-required")?jQuery(this).prop("required",!0):jQuery(this).prop("required",!1)})))})).trigger("change")})),daftplugAdmin.find(".daftplugAdminInputNumber").each((function(e){var self=jQuery(this),field=self.find(".daftplugAdminInputNumber_field"),placeholder=field.attr("data-placeholder"),step=parseFloat(field.attr("step")),min=parseFloat(field.attr("min")),max=parseFloat(field.attr("max"));field.before('<svg class="daftplugAdminInputNumber_icon -iconMinus"><use href="#iconMinus"></use></svg>').after(`<span class="daftplugAdminInputNumber_placeholder" style="left: 42px;">${placeholder}</span>\n                     <svg class="daftplugAdminInputNumber_icon -iconPlus"><use href="#iconPlus"></use></svg>`);var icon=self.find(".daftplugAdminInputNumber_icon");field.on("focus blur",(function(e){"focus"==e.type||"focusin"==e.type?icon.addClass("-focused"):icon.removeClass("-focused")})),self.find(".daftplugAdminInputNumber_icon.-iconMinus").on("click",(function(e){var value=parseFloat(field.val());value>min&&field.val(value-step).trigger("change")})),self.find(".daftplugAdminInputNumber_icon.-iconPlus").on("click",(function(e){var value=parseFloat(field.val());field.val().length?value<max&&field.val(value+step).trigger("change"):field.val(step).trigger("change")})),field.on("invalid",(function(e){self.add(icon).addClass("-invalid"),setTimeout((function(e){self.add(icon).removeClass("-invalid")}),2300)}))})),daftplugAdmin.find(".daftplugAdminInputSelect").each((function(e){var self=jQuery(this),field=self.find(".daftplugAdminInputSelect_field"),fieldOption=field.find("option"),label=jQuery('label[for="'+field.attr("id")+'"]'),placeholder=field.attr("data-placeholder");field.after(`<div class="daftplugAdminInputSelect_dropdown"></div>\n                     <span class="daftplugAdminInputSelect_placeholder">${placeholder}</span>\n                     <ul class="daftplugAdminInputSelect_list"></ul>\n                     <span class="daftplugAdminInputSelect_arrow"></span>`),fieldOption.each((function(e){self.find(".daftplugAdminInputSelect_list").append(`<li class="daftplugAdminInputSelect_option" data-value="${jQuery(this).val().trim()}">\n                                                                    <a class="daftplugAdminInputSelect_text">${jQuery(this).text().trim()}</a>\n                                                                </li>`)}));var dropdown=self.find(".daftplugAdminInputSelect_dropdown"),list=self.find(".daftplugAdminInputSelect_list"),option=self.find(".daftplugAdminInputSelect_option");dropdown.add(list).attr("data-name",field.attr("name")),field.is("[multiple]")?(dropdown.attr("data-multiple","true"),field.find("option:selected").length||fieldOption.first().prop("selected",!0),field.find("option:selected").each((function(e){var self=jQuery(this);dropdown.append((function(e){return jQuery('<span class="daftplugAdminInputSelect_choice" data-value="'+self.val()+'">'+self.text()+'<svg class="daftplugAdminInputSelect_deselect -iconX"><use href="#iconX"></use></svg></span>').on("click",(function(e){var self=jQuery(this);e.stopPropagation(),self.remove(),list.find('.daftplugAdminInputSelect_option[data-value="'+self.attr("data-value")+'"]').removeClass("-selected"),list.css("top",dropdown.height()+5).find(".daftplugAdminInputSelect_noselections").remove(),field.find('option[value="'+self.attr("data-value")+'"]').prop("selected",!1),0===dropdown.children(":visible").length&&dropdown.removeClass("-hasValue")}))})).addClass("-hasValue"),list.find('.daftplugAdminInputSelect_option[data-value="'+self.val()+'"]').addClass("-selected")})),option.not(".-selected").length||list.append('<h5 class="daftplugAdminInputSelect_noselections">No Selections</h5>'),list.css("top",dropdown.height()+5),option.on("click",(function(e){var self=jQuery(this);e.stopPropagation(),self.addClass("-selected"),field.find('option[value="'+self.attr("data-value")+'"]').prop("selected",!0),dropdown.append((function(e){return jQuery('<span class="daftplugAdminInputSelect_choice" data-value="'+self.attr("data-value")+'">'+self.children().text()+'<svg class="daftplugAdminInputSelect_deselect -iconX"><use href="#iconX"></use></svg></span>').on("click",(function(e){var self=jQuery(this);e.stopPropagation(),self.remove(),list.find('.daftplugAdminInputSelect_option[data-value="'+self.attr("data-value")+'"]').removeClass("-selected"),list.css("top",dropdown.height()+5).find(".daftplugAdminInputSelect_noselections").remove(),field.find('option[value="'+self.attr("data-value")+'"]').prop("selected",!1),0===dropdown.children(":visible").length&&dropdown.removeClass("-hasValue")}))})).addClass("-hasValue"),list.css("top",dropdown.height()+5),option.not(".-selected").length||list.append('<h5 class="daftplugAdminInputSelect_noselections">No Selections</h5>')})),dropdown.add(label).on("click",(function(e){daftplugAdmin.find(".daftplugAdminInputSelect_dropdown, .daftplugAdminInputSelect_list").not(dropdown).not(list).removeClass("-open"),e.stopPropagation(),e.preventDefault(),dropdown.toggleClass("-open"),list.toggleClass("-open").scrollTop(0).css("top",dropdown.height()+5)}))):(field.find("option:selected").length&&(dropdown.attr("data-value",jQuery(this).find("option:selected").val()).text(jQuery(this).find("option:selected").text()).addClass("-hasValue"),list.find('.daftplugAdminInputSelect_option[data-value="'+jQuery(this).find("option:selected").val()+'"]').addClass("-selected")),option.on("click",(function(e){var self=jQuery(this);option.removeClass("-selected"),self.addClass("-selected"),fieldOption.prop("selected",!1),field.find('option[value="'+self.attr("data-value")+'"]').prop("selected",!0),dropdown.text(self.children().text()).addClass("-hasValue")})),dropdown.add(label).on("click",(function(e){daftplugAdmin.find(".daftplugAdminInputSelect_dropdown, .daftplugAdminInputSelect_list").not(dropdown).not(list).removeClass("-open"),e.stopPropagation(),e.preventDefault(),dropdown.toggleClass("-open"),list.toggleClass("-open").scrollTop(0)}))),jQuery(document).add(daftplugAdmin.find(".daftplugAdminPopup_container")).on("click touch",(function(e){dropdown.hasClass("-open")&&(dropdown.toggleClass("-open"),list.removeClass("-open"))})),field.on("invalid",(function(e){self.addClass("-invalid"),setTimeout((function(e){self.removeClass("-invalid")}),2300)}))})),daftplugAdmin.find(".daftplugAdminInputRange").each((function(e){var self=jQuery(this),field=self.find(".daftplugAdminInputRange_field"),val=parseFloat(field.val()),min=parseFloat(field.attr("min")),max=parseFloat(field.attr("max"));field.after('<output class="daftplugAdminInputRange_output">'+val+"</output>");var output=self.find(".daftplugAdminInputRange_output");field.on("input change",(function(e){var val=parseFloat(field.val()),fillPercent=100*(val-min)/(max-min);field.css("background","linear-gradient(to right, #4073ff 0%, #4073ff "+fillPercent+"%, #d9dbde "+fillPercent+"%)"),output.text(val)})).trigger("change")})),daftplugAdmin.find(".daftplugAdminInputColor").each((function(e){var self=jQuery(this),field=self.find(".daftplugAdminInputColor_field"),label=self.prev(".daftplugAdminField_label"),color=field.val(),placeholder=field.attr("data-placeholder"),colorInput=new JSColor(document.getElementById(field.attr("id")),{previewPosition:"right",previewSize:0,previewPadding:0,borderColor:"#D9DBDE",borderRadius:4,padding:10,width:180,height:100,controlBorderColor:"#D9DBDE",pointerBorderColor:"rgba(0,0,0,0)",shadowColor:"rgba(0,0,0,0.12)",shadowBlur:20,zIndex:999999,onInput:'this.targetElement.style.color = this.isLight() ? "#000" : "#fff"'});field.after('<span class="daftplugAdminInputColor_placeholder" style="background: '+color+'">'+placeholder+"</span>");var elmPlaceholder=self.find(".daftplugAdminInputColor_placeholder");label.on("click",(function(e){colorInput.show()})),field.on("input change",(function(e){var color=field.val();elmPlaceholder.css("background",color)})),colorInput.trigger("input change"),field.on("invalid",(function(e){self.addClass("-invalid"),setTimeout((function(e){self.removeClass("-invalid")}),2300)}))})),daftplugAdmin.find(".daftplugAdminInputUpload").each((function(e){var self=jQuery(this),field=self.find(".daftplugAdminInputUpload_field"),label=jQuery('label[for="'+field.attr("id")+'"]'),mimes=field.attr("data-mimes"),maxWidth=field.attr("data-max-width"),minWidth=field.attr("data-min-width"),maxHeight=field.attr("data-max-height"),minHeight=field.attr("data-min-height"),imageSrc=field.attr("data-attach-url"),frame;imageSrc&&jQuery.ajax({url:imageSrc,type:"HEAD",error:function(){field.val(""),field.removeAttr("data-attach-url")},success:function(){field.addClass("-hasFile")}}),field.after(`<div class="daftplugAdminInputUpload_attach">\n                        <div class="daftplugAdminInputUpload_upload">\n                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" class="daftplugAdminInputUpload_icon -iconUpload">\n                                <g stroke-linecap="round" stroke-linejoin="round">\n                                    <path d="M32,1 L32,1 C49.1208272,1 63,14.8791728 63,32 L63,32 C63,49.1208272 49.1208272,63 32,63 L32,63 C14.8791728,63 1,49.1208272 1,32 L1,32 C1,14.8791728 14.8791728,1 32,1 Z" id="circleActive"></path>\n                                    <path d="M22,26 L22,38 C22,42.418278 25.581722,46 30,46 C34.418278,46 38,42.418278 38,38 L38,20 L36,20 L36,38 C36,41.3137085 33.3137085,44 30,44 C26.6862915,44 24,41.3137085 24,38 L24,26 C24,25.4477153 23.5522847,25 23,25 C22.4477153,25 22,25.4477153 22,26 Z" id="clipBack"></path>\n                                    <g id="preview"><image preserveAspectRatio="none" width="30px" height="30px" href='${imageSrc}'></image></g>\n                                    <path d="M32,25 C32,24.4477153 32.4477153,24 33,24 C33.5522847,24 34,24.4477153 34,25 L34,38 C34,40.209139 32.209139,42 30,42 C27.790861,42 26,40.209139 26,38 L26,20 C26,16.6862915 28.6862915,14 32,14 C35.3137085,14 38,16.6862915 38,20 L36,20 C36,17.790861 34.209139,16 32,16 C29.790861,16 28,17.790861 28,20 L28,38 C28,39.1045695 28.8954305,40 30,40 C31.1045695,40 32,39.1045695 32,38 L32,25 Z" id="clipFront"></path>\n                                </g>\n                            </svg>\n                        </div>\n                        <div class="daftplugAdminInputUpload_undo">\n                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="daftplugAdminInputUpload_icon -iconUndo">\n                                <g stroke-linecap="round" stroke-linejoin="round">\n                                    <circle cx="10" cy="10" r="10" id="circle"></circle>\n                                    <path d="M7,7 L13,13" id="line"></path>\n                                    <path d="M7,13 L13,7" id="line"></path>\n                                </g>\n                            </svg>\n                        </div>\n                    </div>`);var upload=self.find(".daftplugAdminInputUpload_upload"),undo=self.find(".daftplugAdminInputUpload_undo"),preview=self.find("#preview");upload.add(label).on("click",(function(e){frame?frame.open():((frame=wp.media({title:"Select or upload a file",button:{text:"Select File"},multiple:!1})).on("select",(function(){var attachment=frame.state().get("selection").first().toJSON(),errors=[];if(""!==mimes){var mimesArray=mimes.split(","),fileMime=attachment.subtype;-1===jQuery.inArray(fileMime,mimesArray)&&errors.push("This file should be one of the following file types:\n"+mimes)}if(""!==maxHeight&&attachment.height>maxHeight&&errors.push("Image can't be higher than "+maxHeight+"px."),""!==minHeight&&attachment.height<minHeight&&errors.push("Image should be at least "+minHeight+"px high."),""!==maxWidth&&attachment.width>maxWidth&&errors.push("Image can't be wider than "+maxWidth+"px."),""!==minWidth&&attachment.width<minWidth&&errors.push("Image should be at least "+minWidth+"px wide."),errors.length)alert(errors.join("\n\n"));else{if("image"===attachment.type)var imageSrc,image='<image preserveAspectRatio="none" width="30px" height="30px" href=\''+(imageSrc=attachment.url)+"'></image>";else var imageSrc,image='<image preserveAspectRatio="none" width="30px" height="30px" href=\''+(imageSrc=objectName.fileIcon)+"'></image>";field.val(attachment.id).addClass("-active -hasFile"),field.attr("data-attach-url",imageSrc),setTimeout((function(){field.removeClass("-active")}),1e3),preview.html(image)}})),frame.open())})),undo.on("click",(function(e){field.val("").removeClass("-hasFile"),field.removeAttr("data-attach-url")})),field.on("invalid",(function(e){self.addClass("-invalid"),setTimeout((function(e){self.removeClass("-invalid")}),2300)}))})),daftplugAdmin.find(".daftplugAdminActivateLicense_form").on("submit",(function(e){e.preventDefault();var self=jQuery(this),action=optionName+"_activate_license",nonce=self.attr("data-nonce"),purchaseCode=self.find("#purchaseCode").val(),button=self.find(".daftplugAdminButton.-submit"),responseText=self.find(".daftplugAdminField_response");jQuery.ajax({url:ajaxurl,dataType:"text",type:"POST",data:{action:action,nonce:nonce,purchaseCode:purchaseCode},beforeSend:function(){button.addClass("-loading")},success:function(response,textStatus,jqXhr){1==response?(button.addClass("-success"),setTimeout((function(){button.removeClass("-loading -success"),daftplugAdmin.find(".daftplugAdminPage.-activation").addClass("-disabled"),daftplugAdmin.find(".daftplugAdminLoader").fadeIn("fast"),window.location.hash="#/overview/",window.location.reload()}),1500)):(button.addClass("-fail"),setTimeout((function(){button.removeClass("-loading -fail")}),1500),responseText.css({color:"#FF3A3A","padding-left":"15px"}).html(response).fadeIn("fast"))},complete:function(){},error:function(jqXhr,textStatus,errorThrown){button.addClass("-fail"),setTimeout((function(){button.removeClass("-loading -fail")}),1500),responseText.css({color:"#FF3A3A","padding-left":"15px"}).html("An unexpected error occurred!").fadeIn("fast")}})})),daftplugAdmin.find(".daftplugAdminButton.-deactivateLicense").on("submit",(function(e){e.preventDefault();var self=jQuery(this),action=optionName+"_deactivate_license",nonce=self.attr("data-nonce");jQuery.ajax({url:ajaxurl,dataType:"text",type:"POST",data:{action:action,nonce:nonce},beforeSend:function(){self.addClass("-loading"),daftplugAdmin.find(".daftplugAdminButton").not(self).add(".daftplugAdminInputCheckbox.-featuresCheckbox").add(".daftplugAdminMenu").addClass("-disabled")},success:function(response,textStatus,jqXhr){1==response?(self.addClass("-success"),setTimeout((function(){self.removeClass("-loading -success"),daftplugAdmin.find(".daftplugAdminHeader").add(".daftplugAdminMain").add(".daftplugAdminFooter").addClass("-disabled"),daftplugAdmin.find(".daftplugAdminLoader").fadeIn("fast"),window.location.hash="#/activation/",window.location.reload()}),1500)):(self.addClass("-fail"),setTimeout((function(){self.removeClass("-loading -fail"),daftplugAdmin.find(".daftplugAdminButton").not(self).add(".daftplugAdminInputCheckbox.-featuresCheckbox").add(".daftplugAdminMenu").removeClass("-disabled")}),1500))},complete:function(){},error:function(jqXhr,textStatus,errorThrown){self.addClass("-fail"),setTimeout((function(){self.removeClass("-loading -fail"),daftplugAdmin.find(".daftplugAdminButton").not(self).add(".daftplugAdminInputCheckbox.-featuresCheckbox").add(".daftplugAdminMenu").removeClass("-disabled")}),1500)}})})),daftplugAdmin.find(".daftplugAdminSupportTicket_form").on("submit",(function(e){e.preventDefault();var self=jQuery(this),action=optionName+"_send_ticket",nonce=self.attr("data-nonce"),purchaseCode=self.find("#purchaseCode").val(),firstName=self.find("#firstName").val(),contactEmail=self.find("#contactEmail").val(),problemDescription=self.find("#problemDescription").val(),attachmentsX=self.find(".daftplugAdminInputTextarea_xicon"),attachment1=self.find("#attachment1").val()||"",attachment2=self.find("#attachment2").val()||"",attachment3=self.find("#attachment3").val()||"",attachment4=self.find("#attachment4").val()||"",attachment5=self.find("#attachment5").val()||"",wordpressUsername=self.find("#wordpressUsername").val(),wordpressPassword=self.find("#wordpressPassword").val(),button=self.find(".daftplugAdminButton.-submit"),responseText=self.find(".daftplugAdminField_response");jQuery.ajax({url:ajaxurl,dataType:"text",type:"POST",data:{action:action,nonce:nonce,purchaseCode:purchaseCode,firstName:firstName,contactEmail:contactEmail,problemDescription:problemDescription,attachment1:attachment1,attachment2:attachment2,attachment3:attachment3,attachment4:attachment4,attachment5:attachment5,wordpressUsername:wordpressUsername,wordpressPassword:wordpressPassword},beforeSend:function(){button.addClass("-loading")},success:function(response,textStatus,jqXhr){1==response?(self.trigger("reset"),attachmentsX.trigger("click"),button.addClass("-success"),setTimeout((function(){button.removeClass("-loading -success")}),1500),responseText.css({color:"#4073FF","padding-left":"15px"}).html("Thank you! We will send our response as soon as possible to your email address.").fadeIn("fast")):(button.addClass("-fail"),setTimeout((function(){button.removeClass("-loading -fail")}),1500),responseText.css("color","#FF3A3A").html('Submission failed. Please use the <a target="_blank" href="https://codecanyon.net/user/daftplug#contact">Contact Form</a> found on our Codecanyon profile page instead.').fadeIn("fast"))},complete:function(){},error:function(jqXhr,textStatus,errorThrown){button.addClass("-fail"),setTimeout((function(){button.removeClass("-loading -fail")}),1500),responseText.css("color","#FF3A3A").html('Submission failed. Please use the <a target="_blank" href="https://codecanyon.net/user/daftplug#contact">Contact Form</a> found on our Codecanyon profile page instead.').fadeIn("fast")}})})),daftplugAdmin.find(".daftplugAdminSettings_form").on("submit",(function(e){e.preventDefault();var self=jQuery(this),button=self.find(".daftplugAdminButton.-submit"),action=optionName+"_save_settings",nonce=self.attr("data-nonce"),settings=self.daftplugSerialize();jQuery.ajax({url:ajaxurl,dataType:"text",type:"POST",data:{action:action,nonce:nonce,settings:settings},beforeSend:function(){button.addClass("-loading")},success:function(response,textStatus,jqXhr){1==response?(button.addClass("-success"),setTimeout((function(){button.removeClass("-loading -success")}),1500)):(button.addClass("-fail"),setTimeout((function(){button.removeClass("-loading -fail")}),1500))},complete:function(){},error:function(jqXhr,textStatus,errorThrown){button.addClass("-fail"),setTimeout((function(){button.removeClass("-loading -fail")}),1500),console.log(jqXhr)}})})),daftplugAdmin.find(".daftplugAdminButton.-settingsExport").on("click tap",(function(e){e.preventDefault();var self=jQuery(this),action=optionName+"_export_settings";self.addClass("-loading"),setTimeout((function(){self.addClass("-success"),window.location.href=objectName.adminUrl+"admin-post.php?action="+action}),700),setTimeout((function(){self.removeClass("-loading -success")}),2200)})),daftplugAdmin.find(".daftplugAdminSettingsImport_form").each((function(e){var self=jQuery(this),button=self.find(".daftplugAdminButton.-submit"),action=optionName+"_import_settings",nonce=self.attr("data-nonce"),settingsFileInput=document.getElementById("settingsFile");button.on("click",(function(e){e.preventDefault(),settingsFileInput.click()})),settingsFileInput.addEventListener("change",(function(){if(settingsFileInput.files.length>0){var fileReader=new FileReader;fileReader.readAsText(settingsFileInput.files[0]),fileReader.addEventListener("load",(function(){jQuery.ajax({url:ajaxurl,dataType:"text",type:"POST",data:{action:action,nonce:nonce,settings:fileReader.result},beforeSend:function(){button.addClass("-loading"),daftplugAdmin.find(".daftplugAdminButton").not(button).add(".daftplugAdminMenu").addClass("-disabled")},success:function(response,textStatus,jqXhr){var response;(response=JSON.parse(response)).success?(button.addClass("-success"),setTimeout((function(){button.removeClass("-loading -success"),daftplugAdmin.find(".daftplugAdminHeader").add(".daftplugAdminMain").add(".daftplugAdminFooter").addClass("-disabled"),daftplugAdmin.find(".daftplugAdminLoader").fadeIn("fast"),window.location.reload()}),1500)):(button.addClass("-fail"),setTimeout((function(){button.removeClass("-loading -fail"),daftplugAdmin.find(".daftplugAdminButton").not(button).add(".daftplugAdminMenu").removeClass("-disabled")}),1500))},complete:function(){},error:function(jqXhr,textStatus,errorThrown){button.addClass("-fail"),setTimeout((function(){button.removeClass("-loading -fail"),daftplugAdmin.find(".daftplugAdminButton").not(button).add(".daftplugAdminMenu").removeClass("-disabled")}),1500),console.log(jqXhr)}})}))}}))})),daftplugAdmin.find(".daftplugAdminButton.-settingsReset").on("submit",(function(e){e.preventDefault();var self=jQuery(this),action=optionName+"_reset_settings",nonce=self.attr("data-nonce");jQuery.ajax({url:ajaxurl,dataType:"text",type:"POST",data:{action:action,nonce:nonce},beforeSend:function(){self.addClass("-loading"),daftplugAdmin.find(".daftplugAdminButton").not(self).add(".daftplugAdminMenu").addClass("-disabled")},success:function(response,textStatus,jqXhr){var response;(response=JSON.parse(response)).success?(self.addClass("-success"),setTimeout((function(){self.removeClass("-loading -success"),daftplugAdmin.find(".daftplugAdminHeader").add(".daftplugAdminMain").add(".daftplugAdminFooter").addClass("-disabled"),daftplugAdmin.find(".daftplugAdminLoader").fadeIn("fast"),window.location.reload()}),1500)):(self.addClass("-fail"),setTimeout((function(){self.removeClass("-loading -fail"),daftplugAdmin.find(".daftplugAdminButton").not(self).add(".daftplugAdminMenu").removeClass("-disabled")}),1500))},complete:function(){},error:function(jqXhr,textStatus,errorThrown){self.addClass("-fail"),setTimeout((function(){self.removeClass("-loading -fail"),daftplugAdmin.find(".daftplugAdminButton").not(self).add(".daftplugAdminMenu").removeClass("-disabled")}),1500)}})})),daftplugAdmin.find(".daftplugAdminInputCheckbox.-featuresCheckbox").each((function(e){var self=jQuery(this),field=self.find(".daftplugAdminInputCheckbox_field"),fieldset=jQuery(".daftplugAdminPluginFeatures");field.on("click",(function(e){e.preventDefault();var action=optionName+"_save_settings",nonce=self.attr("data-nonce"),settings=fieldset.daftplugSerialize();jQuery.ajax({url:ajaxurl,dataType:"text",type:"POST",data:{action:action,nonce:nonce,settings:settings},beforeSend:function(){self.addClass("-loading"),daftplugAdmin.find(".daftplugAdminInputCheckbox.-featuresCheckbox").not(self).parent().add(".daftplugAdminButton").add(".daftplugAdminMenu").addClass("-disabled")},success:function(response,textStatus,jqXhr){1==response?setTimeout((function(){self.removeClass("-loading"),daftplugAdmin.find(".daftplugAdminInputCheckbox.-featuresCheckbox").not(self).parent().removeClass("-disabled"),field.is(":checked")?field.prop("checked",!1):field.prop("checked",!0),daftplugAdmin.find(".daftplugAdminHeader").add(".daftplugAdminMain").add(".daftplugAdminFooter").addClass("-disabled"),daftplugAdmin.find(".daftplugAdminLoader").fadeIn("fast"),window.location.reload()}),1500):setTimeout((function(){self.removeClass("-loading"),daftplugAdmin.find(".daftplugAdminInputCheckbox.-featuresCheckbox").not(self).parent().add(".daftplugAdminButton").add(".daftplugAdminMenu").removeClass("-disabled"),field.is(":checked")?field.prop("checked",!0):field.prop("checked",!1)}),1500)},complete:function(){},error:function(jqXhr,textStatus,errorThrown){setTimeout((function(){self.removeClass("-loading"),daftplugAdmin.find(".daftplugAdminInputCheckbox.-featuresCheckbox").not(self).parent().add(".daftplugAdminButton").add(".daftplugAdminMenu").removeClass("-disabled"),field.is(":checked")?field.prop("checked",!0):field.prop("checked",!1)}),1500)}})}))})),daftplugAdmin.find('[data-popup="reviewModal"]').each((function(e){var self=jQuery(this),secondsSpent=Number(localStorage.getItem("secondsSpent"));setInterval((function(){localStorage.setItem("secondsSpent",++secondsSpent),400==secondsSpent&&self.addClass("-active")}),1e3)})),daftplugAdmin.find(".daftplugAdminPage_content.-getAppNoticeTable").each((function(e){var self=jQuery(this),getAppNotice=self.find(".daftplugAdminGetAppNotice"),getAppNoticeButton=getAppNotice.find(".daftplugAdminButton.-notice"),pricingTable=self.find(".daftplugAdminPricingTable"),timeout;getAppNoticeButton.on("click tap",(function(e){getAppNotice.slideUp("fast")})),pricingTable.on("mouseleave",(function(e){timeout=setTimeout((function(e){getAppNotice.slideDown("fast")}),1e4)})).on("mouseenter",(function(e){clearTimeout(timeout)}))})),daftplugAdmin.find(".daftplugAdminPaypalButton").each((function(e){var self=jQuery(this),buttonsContainer=self.parent(),tooltip=buttonsContainer.attr("data-tooltip"),target=self.attr("data-target"),price=self.attr("data-price"),deliveryEmailField=buttonsContainer.prev().find("#deliveryEmail"),responseText=buttonsContainer.next();deliveryEmailField.on("input change paste propertychange",(function(e){var field=jQuery(this);field.get(0).validity.valid?(buttonsContainer.removeAttr("data-tooltip"),self.removeClass("-disabled"),field.parent().removeClass("-invalid")):(buttonsContainer.attr("data-tooltip",tooltip),self.addClass("-disabled"),field.parent().addClass("-invalid")),field.val()||field.parent().removeClass("-invalid")})),paypal.Buttons({style:{shape:"rect",color:"gold",layout:"vertical",label:"paypal"},createOrder:function(data,actions){return actions.order.create({purchase_units:[{custom_id:"Website - "+objectName.homeUrl+" & Delivery Email - "+deliveryEmailField.val(),description:"PWA to "+target.charAt(0).toUpperCase()+target.slice(1)+" App",amount:{currency_code:"USD",value:price}}]})},onApprove:function(data,actions){return actions.order.capture().then((function(orderData){buttonsContainer.hide(),responseText.css("color","#4073FF").html("Thank you for the payment! We are starting to create app package for you and will send it as soon as possible.").fadeIn("fast"),setTimeout((function(){responseText.hide(),buttonsContainer.fadeIn("fast")}),5e3)}))},onError:function(err){buttonsContainer.hide(),responseText.css("color","#FF3A3A").html("Payment failed! Please try again or contact us on support@daftplug.com").fadeIn("fast"),setTimeout((function(){responseText.hide(),buttonsContainer.fadeIn("fast")}),5e3),console.log(err)}}).render(self.get(0))})),daftplugAdmin.find(".daftplugAdminHeader_search").each((function(e){var self=jQuery(this),button=self.find(".daftplugAdminButton.-search"),icon=self.find(".daftplugAdminHeader_icon"),field=self.find(".daftplugAdminHeader_field"),tooltip=button.attr("data-tooltip"),searchResults=self.find(".daftplugAdminHeader_results"),fieldsets;daftplugAdmin.find(".daftplugAdminSettings").find(".daftplugAdminFieldset[id]").each((function(e){var self=jQuery(this),id=self.attr("id"),title=self.find(".daftplugAdminFieldset_title").text().replace("beta","").replace("new",""),pageId=self.closest(".daftplugAdminPage").attr("data-page"),pageTitle=self.closest(".daftplugAdminPage").attr("data-title"),subpageId=self.closest(".daftplugAdminPage_subpage").attr("data-subpage"),subpageTitle=self.closest(".daftplugAdminPage_subpage").attr("data-title");searchResults.prepend(`<a class="daftplugAdminHeader_item" href="#/${pageId}-${subpageId}/" data-page="${pageId}" data-subpage="${subpageId}" data-targetid="${id}">${pageTitle} > ${subpageTitle} > ${title}</a>`)})),button.on("click tap",(function(e){button.hasClass("-open")?field.val()?(field.val("").focus(),searchResults.slideUp("fast")):searchResults.slideUp("fast",(function(e){field.removeClass("-open"),button.removeClass("-open").attr("data-tooltip",tooltip),icon.find("use").attr("href","#iconSearch")})):(field.addClass("-open").focus(),button.addClass("-open").removeAttr("data-tooltip").find(".daftplugAdminTooltip").remove(),icon.find("use").attr("href","#iconX"))})),daftplugAdmin.on("click tap",(function(e){var target=jQuery(e.target),button=self.find(".daftplugAdminButton.-search");target.closest(".daftplugAdminButton.-search").length||target.closest(".daftplugAdminHeader_field").length||!button.hasClass("-open")||searchResults.slideUp("fast",(function(e){field.removeClass("-open").val(""),button.removeClass("-open").attr("data-tooltip",tooltip),icon.find("use").attr("href","#iconSearch")}))})),field.on("change input paste",(function(e){if(field.val().length>2){var searchPhrase=jQuery.trim(field.val()).replace(/ +/g," ").toLowerCase();searchResults.slideDown("fast").find(".daftplugAdminHeader_item").show().filter((function(e){var a;return-1===jQuery(this).text().replace(/\s+/g," ").toLowerCase().indexOf(searchPhrase)})).hide(),searchResults.find(".daftplugAdminHeader_item").is(":visible")?searchResults.find(".daftplugAdminHeader_notfound").hide():searchResults.find(".daftplugAdminHeader_notfound").show()}else searchResults.slideUp("fast")})),daftplugAdmin.on("click tap",".daftplugAdminHeader_item",(function(e){var self,targetId=jQuery(this).attr("data-targetid");setTimeout((function(){jQuery("#"+targetId).get(0).scrollIntoView({behavior:"smooth",block:"center"})}),10)}))})),jQuery.fn.daftplugSerialize=function(){var data={};return jQuery.each(this.serializeArray(),(function(){if(data[this.name])data[this.name].push||(data[this.name]=[data[this.name]]),data[this.name].push(this.value||"");else if(this.name.includes("]")){var nestedArray=this.name.split("[").map(s=>s.replace("]","")),headName=nestedArray[0];nestedArray.shift();var nestedValue=nestedArray.reduceRight((all,item)=>({[item]:all}),this.value);data[headName]=nestedValue}else data[this.name]=this.value||""})),jQuery.each(jQuery("input[type=radio], input[type=checkbox]",this),(function(){data.hasOwnProperty(this.name)||(data[this.name]="off")})),JSON.stringify(data)}}));